<!DOCTYPE html>
<html lang="en-AU">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Index Page</title>

    <!-- Preconnect to external CDNs -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />

    <!-- DNS Prefetch to resolve domains earlier -->
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />

    <!-- Preload Critical CSS (Bootstrap and Font Awesome) -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" as="style" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" />
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" as="style" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" />

    <!-- Load Bootstrap and Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" />

    <!-- Include Custom Styles -->
    <link rel="stylesheet" href="styles/reset.css" />

    <style>
      .navbar-custom { background-color: #a3b383; }
      .navbar-icons i { font-size: 1.5rem; margin: 0 10px; background-color: #808d67; }
      .navbar-end { display: flex; justify-content: flex-end; align-items: center; }
      .profile-img { border-radius: 50%; width: 40px; height: 40px; object-fit: cover; }
      .title-description { line-height: 1; }
      .title-description span:first-child { font-weight: bold; }
      .nav-item .nav-link { color: #000; background-color: transparent; border-radius: 8px; }
      .nav-item .nav-link:hover { background-color: #ccbdac; }
      .nav-item .nav-link.active { background-color: #ccbdac; }
      .filter-section { background-color: #808d67; padding: 10px; border-radius: 8px; margin-bottom: 15px; }
      .filter-section select { width: 200px; padding: 5px; border-radius: 8px; background-color: #d4cdbd; }
      .table { background-color: #808d67; border-collapse: separate; border-spacing: 0; border-radius: 8px; }
      .table-custom th, .table-custom td { padding: 10px; text-align: left; }
      .table-custom th { background-color: #808d67; color: #fff; }
      .table-custom td { background-color: #d4cdbd; }
      .table-row-spacing { margin-bottom: 10px; }
      .table-custom tr { border-radius: 8px; }
      .icon-vertical { display: flex; flex-direction: column; align-items: center; position: fixed; top: 50%; right: 10px; transform: translateY(-50%); z-index: 9999; }
      .icon-vertical i { margin: 10px 0; font-size: 24px; cursor: pointer; padding: 10px; background-color: #808d67; color: white; border-radius: 50%; transition: background-color 0.3s ease; }
      .icon-vertical i:hover { background-color: #b5ae9b; }
    </style>
  </head>

  <body style="background-color: #e8ebe4">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-custom p-0">
      <div class="container-fluid">
        <!-- Logo and System Name -->
        <a class="navbar-brand d-flex align-items-center" href="#">
          <img src="images/logo.png" alt="Logo" class="navbar-logo me-3" style="border-radius: 8px; height: auto; max-height: 55px;" loading="lazy" />
          <span>Environmental Compliance Management System</span>
        </a>

        <!-- Toggler for responsive behaviour -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Right-side icons and text -->
        <div class="navbar-end d-flex align-items-center p-2">
          <div class="navbar-icons d-flex align-items-center p-2" style="background-color: #808d67; border-radius: 8px;">
            <i class="fas fa-circle-question p-2"></i>
            <i class="fas fa-cog p-2"></i>
            <img src="images/profile.png" alt="Profile" class="profile-img me-3" loading="lazy" />
            <div class="title-description">
              <span>Title</span><br />
              <span>Description</span>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Vertical Icons -->
    <div class="icon-vertical">
      <i class="fas fa-cog" title="Update"></i>
      <i class="fas fa-search" title="Search"></i>
      <i class="fas fa-plus" title="Create"></i>
      <i class="fas fa-trash" title="Delete"></i>
      <i class="fas fa-sync" title="Sync"></i>
    </div>

    <!-- Main Content -->
    <div class="container mt-3">
      <!-- Filter Section -->
      <div class="filter-section">
        <label for="categorySelect" class="d-inline-block me-3">Select Category:</label>
        <select id="categorySelect">
          <option value="category1">14 Day Lookahead</option>
          <option value="category2">Overdue</option>
          <option value="category3">All Forms</option>
        </select>
      </div>

      <!-- Table Section -->
      <div class="d-flex">
        <table class="table table-borderless table-custom">
          <thead>
            <tr>
              <th><input type="checkbox" id="headerCheckbox" /></th>
              <th>
                Primary Environment Mechanism
                <i class="fa-solid fa-chevron-down"></i>
              </th>
              <th>
                Obligation <i class="fa-solid fa-chevron-down"></i>
              </th>
              <th>
                Accountability <i class="fa-solid fa-chevron-down"></i>
              </th>
              <th>
                Responsibility <i class="fa-solid fa-chevron-down"></i>
              </th>
              <th>
                Project Phase <i class="fa-solid fa-chevron-down"></i>
              </th>
              <th>
                Action Due Date <i class="fa-solid fa-chevron-down"></i>
              </th>
              <th>
                Status <i class="fa-solid fa-chevron-down"></i>
              </th>
              <th>
                Compliance Comments <i class="fa-solid fa-chevron-down"></i>
              </th>
            </tr>
          </thead>
          <tbody id="tableBody">
            <!-- Data will be populated here -->
          </tbody>
        </table>
<!-- Vertical Icons -->
<div class="icon-vertical" style="padding-bottom: 5px; position: sticky; top: 20px; right: 10px; z-index: 10;">
  <i class="fas fa-cog"></i>
  <i class="fas fa-search"></i>
  <i class="fas fa-plus"></i>
  <i class="fas fa-trash"></i>
  <i class="fas fa-sync"></i>
</div>



    <!-- </div> -->

    <!-- jQuery (required by DataTables and other scripts) -->
    <link rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
      as="script"
      integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
      crossorigin="anonymous"
      />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
      integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
      crossorigin="anonymous"
    ></script>

    <!-- Fittext adjusts font size based on the container's width -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/FitText.js/1.2.0/jquery.fittext.min.js"
      integity="sha512-e2WVdoOGqKU97DHH6tYamn+eAwLDpyHKqPy4uSv0aGlwDXZKGwyS27sfiIUT8gpZ88/Lr4UZpbRt93QkGRgpug=="
      crossorigin="anonymous"
     ></script>

    <!-- Autosize for resizing font dybamically in textareas -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/autosize.js/6.0.1/autosize.min.js"
      integrity="sha512-OjjaC+tijryqhyPqy7jWSPCRj7fcosu1zreTX1k+OWSwu6uSqLLQ2kxaqL9UpR7xFaPsCwhMf1bQABw2rCxMbg=="
      crossorigin="anonymous"
      ></script>

    <!-- DataTables JavaScript for enhanced tables -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"
      integrity="sha512-BkpSL20WETFylMrcirBahHfSnY++H2O1W+UnEEO4yNIl+jI2+zowyoGJpbtk6bx97fBXf++WJHSSK2MV4ghPcg=="
      crossorigin="anonymous"
    ></script>

    <!-- Papaparse for csv parsing -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"
      integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ=="
      crossorigin="anonymous"
    ></script>

    <!-- Modernizr for HTML5 and CSS3 feature detection -->
    <script
      src="https://cdn.jsdelivr.net/npm/modernizr@3.13.1/lib/cli.min.js"
      crossorigin="anonymous"
    ></script>

    <!-- Polyfill.io for browser compatibility -->
    <script
      src="https://cdn.jsdelivr.net/npm/polyfill@0.1.0/index.min.js"
      crossorigin="anonymous"
    ></script>

    <script>
      // Initialize DataTables for your table
      $(document).ready(function () {
        $(".table").DataTable();

        // Fetch and parse the CSV file
        Papa.parse("assets/ppm.csv", {
          download: true,
          header: true,
          complete: function(results) {
            const data = results.data;
            const tableBody = document.getElementById("tableBody");

            data.forEach((row, index) => {
              const tr = document.createElement("tr");

              tr.innerHTML = `
                <td><input type="checkbox" id="checkbox-${index}" name="checkbox-${index}" /></td>
                <td>${row.Primary_Environmental_Mechanism}</td>
                <td class="obligation-cell">${row.Obligation}</td>
                <td>${row.Accountability}</td>
                <td>${row.Responsibility}</td>
                <td>${row.ProjectPhase}</td>
                <td>${row.Action_DueDate}</td>
                <td>${row.Status}</td>
                <td>${row.Compliance_Comments}</td>
              `;

              tableBody.appendChild(tr);
            });

            // Apply FitText to "Obligation" column for dynamic font resizing
            $(".obligation-cell").fitText();

            // Apply Autosize to dynamically adjust text in multi-line cells
            autosize($('.obligation-cell'));
          }
        });
      });
    </script>

  </body>
</html>
